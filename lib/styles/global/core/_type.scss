// Typography setter, mixins and classes based on breakpoints
// ==========================================================
$-type-map: () !default;

@mixin type-set($type-name, $breakpoint-name, $type-properties) {
  $type-group: map-get($-type-map, $type-name) or ();
  $type-group: map-merge($type-group, ($breakpoint-name: $type-properties));
  $-type-map: map-merge($-type-map, ($type-name: $type-group)) !global;
}

@mixin type($type-name, $type-property: null) {
    @if map-has-key($-type-map, $type-name) {
      $type-group: map-get($-type-map, $type-name);
      @each $breakpoint-name, $type-properties in $type-group {
        @include breakpoint($breakpoint-name) {
          @each $property, $value in $type-properties {
            @if not $type-property or $type-property == $property {
              #{$property}: #{$value};
            }
          }
        }
      }
    } @else {
        @warn "No #{$type-name} found in #{$-type-map}.";
    }
}

@mixin type-classes($prefix: 'type--') {
  @each $type-name, $type-group in $-type-map {
    .#{$prefix}#{$type-name} {
      @include type($type-name);
    }
  }
}

// TO DO: CLEAN UP
@import 'quicksand';
$netcanvas-font-family: 'Quicksand', 'Open Sans', sans serif;
$netcanvas-font-size: 16px;
$line-height-base: 1.5 !default;

html {
  font-family: $netcanvas-font-family;
  font-size: $netcanvas-font-size;
}

// Headings

$headings-font-family:   inherit !default;
$headings-font-weight:   300 !default;
$headings-line-height:   1.1 !default;
$headings-color:         inherit !default;

// Based of px sizes in style guide (em values were inconsistent)
$text-sizes: (
  h1: 1.75rem,
  h2: 1.25rem,
  h3: 1.0625rem,
  h4: 1rem,
  h5: .75rem,
);

@mixin text($text-size) {
  font-family: $headings-font-family;
  font-size: map-get($text-sizes, $text-size);
  font-weight: $headings-font-weight;
  letter-spacing: .05rem;
  line-height: $headings-line-height;
}

@each $text-size in $text-sizes {
  $text-size-name: nth($text-size, 1);

  #{$text-size-name} {
    @include text($text-size-name);
  }
}
